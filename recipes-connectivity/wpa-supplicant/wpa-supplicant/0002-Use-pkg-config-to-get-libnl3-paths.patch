From 141d601868453eb7ab60dce59903a7b12f135b83 Mon Sep 17 00:00:00 2001
From: Andrey Vostrikov <andrey.vostrikov@cogentembedded.com>
Date: Mon, 9 Nov 2015 16:32:52 +0300
Subject: [PATCH] Use pkg-config to get libnl3 paths

Signed-off-by: Andrey Vostrikov <andrey.vostrikov@cogentembedded.com>
---
 src/drivers/drivers.mak | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/src/drivers/drivers.mak b/src/drivers/drivers.mak
index 40aaba5..4898046 100644
--- a/src/drivers/drivers.mak
+++ b/src/drivers/drivers.mak
@@ -33,9 +33,10 @@ NEED_LINUX_IOCTL=y
 NEED_RFKILL=y
 
 ifdef CONFIG_LIBNL32
+  PKG_CONFIG ?= pkg-config
   DRV_LIBS += -lnl-3
   DRV_LIBS += -lnl-genl-3
-  DRV_CFLAGS += -DCONFIG_LIBNL20 -I/usr/include/libnl3
+  DRV_CFLAGS += -DCONFIG_LIBNL20 $(shell $(PKG_CONFIG) --cflags libnl-genl-3.0)
 else
   ifdef CONFIG_LIBNL_TINY
     DRV_LIBS += -lnl-tiny
-- 
2.1.4

